<div ng-if="!$ctrl.race" class="spinner">
  <p> Loading data . . . </p>
  <img src="/f1-rl/core/gif/f1rbr.gif" alt="gif">
</div>

<div ng-if="$ctrl.race" >

  <div class="option-con" >
    <div class="search" >
      <input type="text" ng-model="$ctrl.searchFilter" placeholder="Search" >
        <i class="fas fa-search"></i>
      </div>
    </div>

  <div class="container-dt" >

    <table >
      <thead  >
        <tr >
          <th colspan="9" > {{ $ctrl.year }} {{ $ctrl.race.raceName }} ({{ $ctrl.race.Circuit.circuitName }}) Race Result </th>
        </tr>
        <tr> 
          <td>Position</td>
          <td>Driver</td>
          <td>Constructor</td>
          <td>Time</td>
          <td>Grid</td>
          <td>Laps</td>
          <td>Number</td>
          <td>Points</td>
          <td>Status</td>
        </tr>
      </thead>

      <tbody>

        <tr ng-repeat="result in $ctrl.race.Results | filter: $ctrl.searchFilter " ng-click="$ctrl.pickDriver(result.Driver)" class="tr-link" >
          <td> {{ result.position }} </td>
          <td> {{ result.Driver.givenName }} {{ result.Driver.familyName }} </td>
          <td> {{ result.Constructor.name }} </td>
          <td> {{ result.Time.time }} </td>
          <td> {{ result.grid }} </td>
          <td> {{ result.laps }} </td>
          <td> {{ result.number }} </td>
          <td> {{ result.points }} </td>
          <td> {{ result.status }} </td>
        </tr>
    
      </tbody>
    </table>

    <f1-driver-detail data="$ctrl.driverDetails" ></f1-driver-detail>
    
  </div>

</div>

<div ng-if="$ctrl.errorMessage" class="error-cont" >
  <p> {{ $ctrl.errorMessage }} </p>
</div>
  